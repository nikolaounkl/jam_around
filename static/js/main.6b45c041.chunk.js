(window.webpackJsonpjam_around=window.webpackJsonpjam_around||[]).push([[0],{31:function(e,a,t){e.exports=t(60)},36:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(26),s=t.n(r),l=(t(36),t(5)),o=t(8),m=t(13),i=t.n(m),u=t(27),p=t(3),d=t(9),E=t.n(d),g=function(e){var a=e.likesNum,t=e.songId,r=Object(n.useState)({count:a,liked:!1,id:t}),s=Object(p.a)(r,2),l=s[0],o=s[1],m=l.liked?"fas fa-thumbs-up":"far fa-thumbs-up";return c.a.createElement(c.a.Fragment,null,c.a.createElement("i",{onClick:function(e){e.preventDefault(),o({liked:!l.liked,count:l.liked?l.count-1:l.count+1}),E.a.post("http://cors-anywhere.herokuapp.com/http://api-stg.jam-community.com/interact/like?apikey=___agAFTxkmMIWsmN9zOpM_6l2SkZPPy21LGRlxhYD8&id="+l.id).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},className:m}),"\xa0",l.count)},h=function(e){var a=function(e){var a=Object(n.useState)(new Audio(e)),t=Object(p.a)(a,1)[0],c=Object(n.useState)(!1),r=Object(p.a)(c,2),s=r[0],l=r[1];return Object(n.useEffect)(function(){s?t.play():t.pause()},[s,t]),[s,function(){return l(!s)}]}(e.url),t=Object(p.a)(a,2),r=t[0],s=t[1];return c.a.createElement("div",null,c.a.createElement("button",{className:"button is-jam is-rounded",onClick:s},c.a.createElement("strong",null,r?"PAUSE":"PLAY")))},f=function(e){for(var a=e.songsPerPage,t=e.totalSongs,n=e.paginate,r=[],s=1;s<=Math.ceil(t/a);s++)r.push(s);return c.a.createElement("nav",{className:"pagination is-rounded",role:"navigation","aria-label":"pagination"},c.a.createElement("ul",{className:"pagination-list"},r.map(function(e){return c.a.createElement("li",{key:e,className:"page-item"},c.a.createElement(l.b,{to:"/songs",className:"pagination-link",onClick:function(){return n(e)}},e))})))},b=function(e){var a=e.song;return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.b,{to:"/songs/".concat(a.id,"/comments")},c.a.createElement("i",{className:"far fa-comment"}),"\xa0",a.comments))},N=function(e){var a=Object(n.useState)([]),t=Object(p.a)(a,2),r=t[0],s=t[1],l=Object(n.useState)(!1),o=Object(p.a)(l,2),m=o[0],d=o[1],N=Object(n.useState)(1),v=Object(p.a)(N,2),j=v[0],k=v[1],O=Object(n.useState)(4),y=Object(p.a)(O,1)[0];Object(n.useEffect)(function(){(function(){var e=Object(u.a)(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,E.a.get("http://cors-anywhere.herokuapp.com/http://api-stg.jam-community.com/song/trending");case 3:a=e.sent,s(a.data),d(!1);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()},[]);var x=j*y,w=x-y,S=r.slice(w,x);return m?c.a.createElement("p",null,c.a.createElement("span",{className:"has-text-jam"},"Loading")," ",c.a.createElement("span",{className:"has-text-jam-secondary"},"songs...")):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"songs-wrapper"},S.map(function(e){return c.a.createElement("div",{className:"box",key:e.id},c.a.createElement("div",{className:"content has-text-left"},c.a.createElement("span",null,"SONG"),c.a.createElement("h2",null,c.a.createElement("strong",{className:"has-text-jam"},e.name)),c.a.createElement("p",null,"By"," ",c.a.createElement("strong",{className:"has-text-jam-secondary"},e.artist_name)),c.a.createElement("div",{className:"button-bar"},c.a.createElement(h,{url:e.music_file_path}),c.a.createElement(g,{likesNum:e.likes,songId:e.id}),c.a.createElement(b,{song:e}))),c.a.createElement("div",null,c.a.createElement("figure",{className:"image jam-img"},c.a.createElement("img",{src:e.cover_image_path,alt:""}))))})),c.a.createElement(f,{songsPerPage:y,totalSongs:r.length,paginate:function(e){return k(e)}}))},v=function(){return c.a.createElement("div",{className:"hero-head"},c.a.createElement("header",{className:"navbar"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"navbar-brand"},c.a.createElement(l.b,{to:"/",className:"navbar-item"},c.a.createElement("img",{src:"jam_logo.png",alt:"Logo"}))))))},j=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",{className:"subtitle has-text-jam-secondary"},"Check out our top trending songs"),c.a.createElement("button",{className:"button is-dark is-rounded is-jam"},c.a.createElement(l.b,{to:"/songs"},"LOAD SONGS")))},k=t(30),O=function(e){var a=Object(n.useState)({message:null}),t=Object(p.a)(a,2),r=t[0],s=t[1],o={id:e.match.params,type:"song",message:r.message};return c.a.createElement("div",{className:"comment-wrapper has-text-left"},c.a.createElement(l.b,{to:"/songs"},c.a.createElement("span",{className:"icon has-text-jam-secondary"},c.a.createElement("i",{className:"fas fa-arrow-circle-left fa-2x "}))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("article",{className:"media"},c.a.createElement("div",{className:"media-content"},c.a.createElement("div",{className:"field"},c.a.createElement("p",{className:"control"},c.a.createElement("textarea",{onChange:function(e){e.preventDefault(),s(Object(k.a)({},e.target.id,e.target.value))},className:"textarea",id:"message",placeholder:"Add a comment..."}))),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"control"},c.a.createElement("button",{onClick:function(a){a.preventDefault(),E.a.post("http://cors-anywhere.herokuapp.com/http://api-stg.jam-community.com/interact/like?apikey=___agAFTxkmMIWsmN9zOpM_6l2SkZPPy21LGRlxhYD8",o).then(function(e){return console.log(e)}).then(e.history.push("/songs")).catch(function(e){return console.log(e)})},className:"button is-jam is-rounded"},"POST COMMENT"))))))},y=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",{className:"is-size-4"},c.a.createElement("span",{className:"has-text-jam"},"404")," |"," ",c.a.createElement("span",{className:"has-text-jam-secondary"},"Page not found")),c.a.createElement("p",{className:"lead"},"Sorry, this page does not exist"))};var x=function(){return c.a.createElement(l.a,null,c.a.createElement("section",{className:"App hero is-black is-fullheight"},c.a.createElement(v,null),c.a.createElement("div",{className:"hero-body"},c.a.createElement("div",{className:"container has-text-centered"},c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/",exact:!0,component:j}),c.a.createElement(o.a,{path:"/songs",exact:!0,component:N}),c.a.createElement(o.a,{path:"/songs/:id/comments",component:O}),c.a.createElement(o.a,{component:y}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.6b45c041.chunk.js.map